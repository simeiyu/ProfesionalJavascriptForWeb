<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Array类型-引用类型-JavaScript高级程序设计</title>
</head>
<body>
1.创建数组
Array构造函数、数组字面量

2.读取数组
方括号加数字索引

3、length属性
数组的length属性不是只读的。

<script type="text/javascript">
	var colors = ['red','yellow','green','orange','blue'];
	colors[colors.length] = 'black';
	colors[colors.length] = 'white';

	var str = '';
	for (var i = 0; i < colors.length; i++) {
		str = str + colors[i] + "、";
	}
	console.log(str);
</script>

<hr>
5.2.1 检测数组
instanceof、 isArray()
<script type="text/javascript">
	if (colors instanceof Array) {
		console.log("colors 是一个数组");
	} else {
		console.log("colors 不是数组");
	}
	if (Array.isArray(colors)) {
		console.log("colors 是一个数组");
	} else {
		console.log("colors 不是数组");
	}
</script>

<hr>
5.2.2 转换数组
<script type="text/javascript">
	console.log("数组的toString方法" + colors.toString());
	console.log("数组的valueOf方法" + colors.valueOf());
	console.log("数组的join方法" + colors.join("——"));
</script>

<hr>
5.2.3 栈方法
push()方法可以接收任意数量的参数，把它们逐个添加到数组末尾，并返回修改后的数组长度。
pop()方法从数组末尾移除最后一项，减少数组的length值，并返回移除的项。
<script type="text/javascript">
	var colors = new Array();
	var count = colors.push('red','green');
	console.log(count); //返回2
	console.log(colors.toString());
	/*-----pop()方法-----*/
	var fruit = ['橘子','香蕉','苹果','梨子','樱桃'];
	var reduce = fruit.pop();
	console.log(reduce);
	console.log(fruit.toString());
</script>

<hr>
5.2.4 队列方法
unshift()方法，在数组前端添加任意个项，然后返回数组的length值。
shift()方法，移除数组中的第一个项，并返回改项。
<script type="text/javascript">
	/*-----shift()方法-----*/
	var fruit = ['橘子','香蕉','苹果','梨子','樱桃'];
	var reduce = fruit.shift();
	console.log(reduce);
	console.log(fruit.toString());
	/*-----unshift()方法-----*/
	var count = fruit.unshift('车厘子','黄桃');
	console.log(count);
	console.log(fruit.toString());
</script>

<hr>
5.2.5 重排序方法
reverse()方法反转数组项顺序。
sort()方法语法
array.sort(sortfunction)
参数sortfunction 可选，必须是函数。

<script type="text/javascript">
	console.log("----重排序方法-------");

	console.log(fruit.reverse());
	console.log(fruit.sort());

	var values = [0,1,5,10,15];
	console.log(values.sort());

	function compare(value1, value2) {
		if (value1 < value2) {
			return -1;
		} else if (value1 > value2) {
			return 1;
		} else {
			return 0;
		}
	}

	function compare2(value1, value2) {
		if (value1 < value2) {
			return 1;
		} else if (value1 > value2) {
			return -1;
		} else {
			return 0;
		}
	}

	console.log(values.sort(compare));
	console.log(values.sort(compare2));
</script>

<hr>
5.2.6 操作方法
concat()基于当前数组中的所有项创建一个新数组。
slice()基于当前数值中的一个项或多个项创建一个新数组。
splice()的主要用途是向数组的中部插入项。
<script type="text/javascript">
	var fruit = ['桃','李','杏'];
	var newF = fruit.concat('杨梅','樱桃', ['苹果','香蕉','梨']);
	console.log("---------数组的操作方法--------");
	console.log(newF);
	var partOfF = newF.slice(2,6);
	console.log(partOfF);

	fruit.splice(1,0,'黄瓜','青椒');
	console.log(fruit);
	fruit.splice(1,2,'猕猴桃', '柿子');
	console.log(fruit);
</script>

<hr>
5.2.7 位置方法
indexOf()、lastIndexOf()
参数：要查找的项、表示查找起点位置的索引（可选）。
这两个方法都返回要查找的项在数组中的位置，在没有找到的情况下，返回-1。
<script type="text/javascript">
	console.log("---------数组的位置方法-------");
	console.log(newF.indexOf("苹果"));
	console.log(newF.lastIndexOf("苹果"));
	console.log(newF.indexOf("苹果",3));
	console.log(newF.lastIndexOf("苹果",3));
</script>

<hr>
5.2.8 迭代方法
参数：1、要在每一项上运行的函数；
	  2、（可选）运行该函数的作用域对象——影响this的值。
函数会接收三个参数：数组项的值、该项在数组中的位置、数组对象本身。

5个迭代方法：
every(): 对数组中的每一项运行给定函数，如果该函数对每一项都返回true，则返回true。
some(): 对数组中的每一项运行给定函数，如果该函数对任一项返回true，则返回true。
filter(): 对数组中的每一项运行给定函数，返回该函数会返回true的项组成的数组。
map(): 对数组中的每一项运行给定函数，返回每次函数调用的结果组成的数组。
forEach(): 对数组中的每一项运行给定函数，这个方法没有返回值。

<script type="text/javascript">
	console.log("---------数组的迭代方法-------");

	var numbers = [1, 2, 3, 4, 5, 4, 3, 2, 1];

	var everyResult = numbers.every(function (item, index, array) {
		return (item > 2);
	});
	console.log(everyResult);

	var someResult = numbers.some(function (item, index, array) {
		return (item > 2);
	});
	console.log(someResult);

	var filterResult = numbers.filter(function (item, index, array) {
		return (item > 2);
	});
	console.log(filterResult);

	var mapResult = numbers.map(function (item, index, array) {
		return (item > 2);
	});
	console.log(mapResult);
</script>

<hr>
4.2.9 缩小方法
ECMAScript 5 新增了两个缩小数组的方法：reduce()和reduceRight()。
迭代所有项，构建一个最终返回值。
参数：1、一个在每一项上调用的函数；
	 2、作为缩小基础的初始值（可选）。
传入的函数接收四个参数：前一个值、当前值、项的索引、数组对象。
这个函数返回的任何值都会作为第一个参数自动传给下一项。
第一次迭代发生在数组的第二项上，因此第一个参数是数组的第一项，第二个参数是数组的第二项。
<script type="text/javascript">
	console.log("---------数组的缩小方法-------");
	// 数组中所有值之和
	var values = [1, 2, 3, 4, 5, 6, 7, 8, 9];
	var reduceResult = values.reduce(function (pre, cur, index, array) {
		return pre + cur;
	});
</script>



</body>
</html>